# Production Environment Configuration
# Copy to .env.production and fill in with actual values

# =============================================================================
# CRITICAL: SECURITY SECRETS
# =============================================================================
# Generate strong secrets with: openssl rand -base64 32
JWT_SECRET=REPLACE_WITH_STRONG_SECRET_MIN_32_CHARS
JWT_REFRESH_SECRET=REPLACE_WITH_DIFFERENT_STRONG_SECRET
ENCRYPTION_KEY=REPLACE_WITH_32_CHAR_ENCRYPTION_KEY

# =============================================================================
# APPLICATION
# =============================================================================
NODE_ENV=production
PORT=3001
WEB_PORT=3000
AI_PORT=8000

# Domain configuration
DOMAIN=openmeet.com
API_DOMAIN=api.openmeet.com
WS_DOMAIN=ws.openmeet.com

# CORS
CORS_ORIGINS=https://openmeet.com,https://www.openmeet.com

# Cookies
COOKIE_SECURE=true
COOKIE_DOMAIN=.openmeet.com
COOKIE_SAME_SITE=strict

# =============================================================================
# DATABASE
# =============================================================================
# PostgreSQL (Primary Database)
DATABASE_URL=postgresql://user:password@postgres:5432/openmeet?schema=public
POSTGRES_USER=openmeet_user
POSTGRES_PASSWORD=REPLACE_WITH_STRONG_PASSWORD
POSTGRES_DB=openmeet

# MongoDB REMOVED - Transcripts now stored in PostgreSQL with pgvector
# The TranscriptContent table in PostgreSQL handles all transcript storage
# with vector embeddings for semantic search

# Redis (Cache & Sessions)
REDIS_URL=redis://:password@redis:6379
REDIS_PASSWORD=REPLACE_WITH_STRONG_PASSWORD

# Elasticsearch (Search)
ELASTICSEARCH_URL=http://elasticsearch:9200
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=REPLACE_WITH_STRONG_PASSWORD

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================
# OpenAI
OPENAI_API_KEY=sk-REPLACE_WITH_YOUR_KEY
OPENAI_ORG_ID=org-REPLACE_WITH_YOUR_ORG
OPENAI_MODEL=gpt-4-turbo-preview
WHISPER_MODEL=whisper-1

# Anthropic (Optional)
ANTHROPIC_API_KEY=sk-ant-REPLACE_WITH_YOUR_KEY

# =============================================================================
# AWS
# =============================================================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=REPLACE_WITH_YOUR_KEY
AWS_SECRET_ACCESS_KEY=REPLACE_WITH_YOUR_SECRET
S3_BUCKET=openmeet-production
S3_REGION=us-east-1

# =============================================================================
# PAYMENT & BILLING
# =============================================================================
# Stripe
STRIPE_SECRET_KEY=sk_live_REPLACE_WITH_YOUR_KEY
STRIPE_PUBLISHABLE_KEY=pk_live_REPLACE_WITH_YOUR_KEY
STRIPE_WEBHOOK_SECRET=whsec_REPLACE_WITH_YOUR_SECRET
# Client-side Stripe key (Next.js public variable)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_REPLACE_WITH_YOUR_KEY

# =============================================================================
# COMMUNICATION
# =============================================================================
# SendGrid (Email)
SENDGRID_API_KEY=SG.REPLACE_WITH_YOUR_KEY
SENDGRID_FROM_EMAIL=noreply@openmeet.com
SENDGRID_FROM_NAME=OpenMeet

# Twilio (SMS)
TWILIO_ACCOUNT_SID=AC_REPLACE_WITH_YOUR_SID
TWILIO_AUTH_TOKEN=REPLACE_WITH_YOUR_TOKEN
TWILIO_PHONE_NUMBER=+1234567890

# =============================================================================
# INTEGRATIONS
# =============================================================================
# Zoom
ZOOM_CLIENT_ID=REPLACE_WITH_YOUR_ID
ZOOM_CLIENT_SECRET=REPLACE_WITH_YOUR_SECRET
ZOOM_REDIRECT_URI=https://api.openmeet.com/auth/zoom/callback

# Microsoft Teams
TEAMS_CLIENT_ID=REPLACE_WITH_YOUR_ID
TEAMS_CLIENT_SECRET=REPLACE_WITH_YOUR_SECRET
TEAMS_TENANT_ID=REPLACE_WITH_YOUR_TENANT

# Google
GOOGLE_CLIENT_ID=REPLACE_WITH_YOUR_ID.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=REPLACE_WITH_YOUR_SECRET
GOOGLE_REDIRECT_URI=https://api.openmeet.com/auth/google/callback

# Slack
SLACK_CLIENT_ID=REPLACE_WITH_YOUR_ID
SLACK_CLIENT_SECRET=REPLACE_WITH_YOUR_SECRET
SLACK_SIGNING_SECRET=REPLACE_WITH_YOUR_SECRET

# Salesforce
SALESFORCE_CLIENT_ID=REPLACE_WITH_YOUR_ID
SALESFORCE_CLIENT_SECRET=REPLACE_WITH_YOUR_SECRET
SALESFORCE_CALLBACK_URL=https://api.openmeet.com/auth/salesforce/callback

# HubSpot
HUBSPOT_API_KEY=REPLACE_WITH_YOUR_KEY
HUBSPOT_CLIENT_ID=REPLACE_WITH_YOUR_ID
HUBSPOT_CLIENT_SECRET=REPLACE_WITH_YOUR_SECRET

# =============================================================================
# MONITORING & LOGGING
# =============================================================================
# Sentry (Error Tracking)
SENTRY_DSN=https://REPLACE@o123456.ingest.sentry.io/123456
SENTRY_ENVIRONMENT=production

# DataDog (APM)
DATADOG_API_KEY=REPLACE_WITH_YOUR_KEY
DATADOG_APP_KEY=REPLACE_WITH_YOUR_APP_KEY
DATADOG_SITE=datadoghq.com

# LogDNA / Better Stack
LOGDNA_KEY=REPLACE_WITH_YOUR_KEY

# Prometheus
PROMETHEUS_PORT=9090

# =============================================================================
# SECURITY
# =============================================================================
# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Session
SESSION_SECRET=REPLACE_WITH_STRONG_SECRET
SESSION_COOKIE_MAX_AGE=604800000

# CORS
ALLOWED_ORIGINS=https://openmeet.com,https://www.openmeet.com

# =============================================================================
# FEATURES FLAGS
# =============================================================================
ENABLE_REGISTRATION=true
ENABLE_OAUTH=true
ENABLE_MFA=true
ENABLE_EMAIL_VERIFICATION=true
ENABLE_ANALYTICS=true
ENABLE_TELEMETRY=false

# =============================================================================
# PERFORMANCE
# =============================================================================
# Cache TTL (seconds)
CACHE_TTL_DEFAULT=3600
CACHE_TTL_USER=1800
CACHE_TTL_MEETING=600

# Queue
QUEUE_CONCURRENCY=10
QUEUE_MAX_RETRY=3

# =============================================================================
# BACKUP
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=openmeet-backups

# =============================================================================
# SSL/TLS
# =============================================================================
SSL_CERT_PATH=/etc/ssl/certs/openmeet.crt
SSL_KEY_PATH=/etc/ssl/private/openmeet.key
SSL_CA_PATH=/etc/ssl/certs/ca-bundle.crt

# =============================================================================
# COMPLIANCE
# =============================================================================
GDPR_ENABLED=true
HIPAA_ENABLED=true
DATA_RETENTION_DAYS=2555
